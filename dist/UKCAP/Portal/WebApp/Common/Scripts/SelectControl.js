function InitSelectControl(e, t, n) { if (selectControl == null) { selectControl = new OpenLayers.Control.SelectFeature(t, { hover: n }); e.addControl(selectControl); selectControl.activate(); t.events.on({ featureselected: SelectFeature, featureunselected: UnselectFeature }) } } function SelectFeature(e) { selectedFeature = e.feature; var t = e.feature.geometry.getBounds().getCenterLonLat(); t.lat = t.lat; t.lon = t.lon; var n = GetPopupTextfromFeatureAttributes(selectedFeature); var r = { size: new OpenLayers.Size(0, 0), offset: new OpenLayers.Pixel(0, -50) }; popup = new OpenLayers.Popup.Anchored("chicken", t, new OpenLayers.Size(0, 0), n, null, false); popup.backgroundColor = "transperant"; popup.autoSize = true; selectControl.popup = popup; popup.border = 2; map.addPopup(popup) } function UnselectFeature(e) { var t = e.feature; if (map.popups.length > 0) { map.removePopup(selectControl.popup); selectControl.popup.destroy(); selectControl.popup = null } } function CleanPopUps() { if (map.popups.length > 0) { for (i = 0; i < map.popups.length; i++) { var e = map.popups[i]; map.removePopup(e) } } } function GetPopupTextfromFeatureAttributes(e) { var t = "<table><tr><td>Name:</td><td>" + e.data["KioskID"] + "</td></tr>"; t += "</table>"; var t = "<div class='gis-body'>"; t += "<Table class='table table-striped gis-map'>"; t += "<h2>Kiosk Details</h2>"; for (var n in e.data) { t += "<tr class='gis-inr'><td>"; t += n; t += "</td><td>:"; t += e.data[n]; t += "</td></tr>" } t += "</Table><div class='gis-btn'><input class='btn btn-danger' type='Button' onclick=\"SendRequest('" + e.data["VLECode"] + "',event)\" value='Send Request to VLE for Home Service'/></div> "; t += "</div>"; return t } var selectControl